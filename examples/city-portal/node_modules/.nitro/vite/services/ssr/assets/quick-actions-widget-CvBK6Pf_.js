import { jsx, jsxs } from "react/jsx-runtime";
import { Icon } from "@iconify/react";
import { f as useResolveText, W as WidgetCard, r as resolveIconElement } from "./admin-NRknLhg2.js";
import { f as formatCollectionName, c as cn } from "./utils-P1tbtlFB.js";
import "react";
import "@base-ui/react/merge-props";
import "@base-ui/react/use-render";
import "class-variance-authority";
import "@base-ui/react/separator";
import "sonner";
import "@tanstack/react-query";
import "./router-DfekICpe.js";
import "@tanstack/react-router";
import "node:crypto";
import "node:async_hooks";
import "drizzle-orm";
import "drizzle-orm/pg-core";
import "zod";
import "node:os";
import "node:path";
import "../index.js";
import "@tanstack/react-router/ssr/server";
import "bun";
import "drizzle-orm/bun-sql";
import "drizzle-orm/pglite";
import "buffer";
import "path/posix";
import "path";
import "node:util";
import "crypto";
import "fs";
import "fs/promises";
import "url";
import "util";
import "assert";
import "drizzle-orm/casing";
import "node:fs";
import "node:events";
import "node:diagnostics_channel";
import "events";
import "worker_threads";
import "module";
import "prettier/plugins/html";
import "prettier/standalone";
import "node:stream";
import "http";
import "https";
import "zlib";
import "stream";
import "net";
import "dns";
import "os";
import "tls";
import "child_process";
import "node:assert";
import "node:timers/promises";
import "string_decoder";
import "@base-ui/react/button";
import "@base-ui/react/dialog";
import "@base-ui/react/accordion";
import "@base-ui/react/tabs";
import "@base-ui/react/checkbox";
import "@base-ui/react/switch";
import "@base-ui/react/menu";
import "date-fns";
import "@base-ui/react/popover";
import "date-fns/locale";
import "@base-ui/react/input";
import "react-dom";
import "@base-ui/react/select";
import "@base-ui/react/tooltip";
import "clsx";
import "tailwind-merge";
function QuickActionsWidget({
  config,
  basePath = "/admin",
  navigate
}) {
  const resolveText = useResolveText();
  const { quickActions, layout = "list" } = config;
  const title = config.title ? resolveText(config.title) : "Quick Actions";
  const parsedActions = quickActions.map((action, index) => {
    if (typeof action === "string") {
      const [collection, actionType] = action.split(".");
      return {
        id: `${action}-${index}`,
        label: `${actionType === "create" ? "New" : actionType} ${formatCollectionName(collection)}`,
        href: `${basePath}/collections/${collection}/${actionType === "create" ? "create" : ""}`,
        icon: void 0,
        variant: "default"
      };
    }
    return {
      id: `action-${index}`,
      label: resolveText(action.label),
      href: action.href,
      onClick: action.onClick,
      icon: action.icon,
      variant: action.variant || "default"
    };
  });
  const handleClick = (action) => {
    if (action.onClick) {
      action.onClick();
    } else if (action.href && navigate) {
      navigate(action.href);
    }
  };
  const variantStyles = {
    default: "hover:bg-muted/50 cursor-pointer",
    primary: "bg-primary/5 hover:bg-primary/10 border-primary/20 text-primary [&_svg]:text-primary cursor-pointer",
    secondary: "hover:bg-secondary cursor-pointer",
    outline: "border border-border hover:bg-muted/50 cursor-pointer"
  };
  const iconVariantStyles = {
    default: "bg-muted text-muted-foreground",
    primary: "bg-primary/10 text-primary",
    secondary: "bg-secondary text-secondary-foreground",
    outline: "bg-background text-muted-foreground"
  };
  if (parsedActions.length === 0) {
    return /* @__PURE__ */ jsx(WidgetCard, { title, children: /* @__PURE__ */ jsx("p", { className: "text-sm text-muted-foreground", children: "No actions configured" }) });
  }
  if (layout === "grid") {
    return /* @__PURE__ */ jsx(WidgetCard, { title, children: /* @__PURE__ */ jsx("div", { className: "grid grid-cols-2 gap-2", children: parsedActions.map((action) => {
      const iconElement = resolveIconElement(action.icon, {
        className: "h-4 w-4"
      });
      return /* @__PURE__ */ jsxs(
        "button",
        {
          type: "button",
          onClick: () => handleClick(action),
          className: cn(
            "flex flex-col items-center justify-center gap-2 rounded-md p-3 text-center transition-colors",
            variantStyles[action.variant]
          ),
          children: [
            iconElement && /* @__PURE__ */ jsx(
              "div",
              {
                className: cn(
                  "flex h-9 w-9 items-center justify-center rounded-md",
                  iconVariantStyles[action.variant]
                ),
                children: iconElement
              }
            ),
            /* @__PURE__ */ jsx("span", { className: "text-xs font-medium", children: action.label })
          ]
        },
        action.id
      );
    }) }) });
  }
  return /* @__PURE__ */ jsx(WidgetCard, { title, children: /* @__PURE__ */ jsx("div", { className: "space-y-1 -mx-1", children: parsedActions.map((action) => {
    const iconElement = resolveIconElement(action.icon, {
      className: "h-4 w-4"
    });
    return /* @__PURE__ */ jsxs(
      "button",
      {
        type: "button",
        onClick: () => handleClick(action),
        className: cn(
          "flex w-full items-center gap-3 rounded-md px-2 py-2 text-left transition-colors",
          variantStyles[action.variant]
        ),
        children: [
          iconElement && /* @__PURE__ */ jsx(
            "div",
            {
              className: cn(
                "flex h-8 w-8 shrink-0 items-center justify-center rounded-md",
                iconVariantStyles[action.variant]
              ),
              children: iconElement
            }
          ),
          /* @__PURE__ */ jsx("span", { className: "flex-1 text-sm font-medium truncate", children: action.label }),
          /* @__PURE__ */ jsx(
            Icon,
            {
              icon: "ph:arrow-right",
              className: "h-4 w-4 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity"
            }
          )
        ]
      },
      action.id
    );
  }) }) });
}
export {
  QuickActionsWidget as default
};
