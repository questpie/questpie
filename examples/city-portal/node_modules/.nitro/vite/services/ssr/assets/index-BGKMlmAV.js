import { jsx, jsxs } from "react/jsx-runtime";
import * as React from "react";
import { useState } from "react";
import { c as cn } from "./utils-P1tbtlFB.js";
const BlockScopeContext = React.createContext(
  null
);
function BlockScopeProvider({
  blockId,
  basePath = "content._values",
  children
}) {
  const parentScope = React.useContext(BlockScopeContext);
  const fieldPrefix = React.useMemo(() => {
    if (parentScope) {
      return `${parentScope.fieldPrefix}.${blockId}`;
    }
    return `${basePath}.${blockId}`;
  }, [parentScope, basePath, blockId]);
  const value = React.useMemo(
    () => ({
      blockId,
      fieldPrefix
    }),
    [blockId, fieldPrefix]
  );
  return /* @__PURE__ */ jsx(BlockScopeContext.Provider, { value, children });
}
function BlockRenderer({
  content,
  renderers: renderers2,
  data = {},
  selectedBlockId,
  onBlockClick,
  className
}) {
  function renderBlock(node) {
    const renderFn = renderers2[node.type];
    if (!renderFn) {
      if (process.env.NODE_ENV !== "production") {
        console.warn(
          `[BlockRenderer] No renderer found for block type "${node.type}"`
        );
      }
      return null;
    }
    const values = content._values[node.id] || {};
    const blockData = data[node.id];
    selectedBlockId === node.id;
    const renderedChildren = node.children.length > 0 ? node.children.map(renderBlock) : void 0;
    const handleClick = onBlockClick ? (e) => {
      e.stopPropagation();
      onBlockClick(node.id);
    } : void 0;
    const blockElement = /* @__PURE__ */ jsx(BlockScopeProvider, { blockId: node.id, basePath: "content._values", children: renderFn({
      id: node.id,
      type: node.type,
      values,
      data: blockData,
      children: renderedChildren
    }) });
    if (handleClick) {
      return /* @__PURE__ */ jsx(
        "div",
        {
          "data-block-id": node.id,
          "data-block-type": node.type,
          onClick: handleClick,
          onKeyDown: (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              onBlockClick?.(node.id);
            }
          },
          role: "button",
          tabIndex: 0,
          className: "cursor-pointer",
          children: blockElement
        },
        node.id
      );
    }
    return /* @__PURE__ */ jsx("div", { "data-block-id": node.id, "data-block-type": node.type, children: blockElement }, node.id);
  }
  if (!content?._tree?.length) {
    return null;
  }
  return /* @__PURE__ */ jsx("div", { className, children: content._tree.map(renderBlock) });
}
const defaultStyles = {
  doc: "prose prose-sm max-w-none",
  paragraph: "mb-4 last:mb-0",
  heading1: "text-3xl font-bold mb-4",
  heading2: "text-2xl font-bold mb-3",
  heading3: "text-xl font-semibold mb-3",
  heading4: "text-lg font-semibold mb-2",
  heading5: "text-base font-semibold mb-2",
  heading6: "text-sm font-semibold mb-2",
  blockquote: "border-l-4 border-gray-300 pl-4 italic my-4",
  codeBlock: "bg-muted rounded p-4 font-mono text-sm my-4 overflow-x-auto",
  bulletList: "list-disc list-inside mb-4",
  orderedList: "list-decimal list-inside mb-4",
  listItem: "mb-1",
  link: "text-primary hover:text-primary/80 underline",
  image: "my-4 rounded-lg",
  tableWrapper: "my-4 overflow-x-auto",
  table: "w-full border-collapse",
  tableRow: "border-b",
  tableCell: "border border-border px-3 py-2 align-top",
  tableHeader: "border border-border px-3 py-2 text-left font-semibold",
  horizontalRule: "my-4 border-t border-border",
  bold: "font-bold",
  italic: "italic",
  code: "bg-muted rounded px-1 py-0.5 font-mono text-sm",
  strike: "line-through",
  underline: "underline"
};
function renderNode(node, index, styles) {
  if (node.text !== void 0) {
    let textNode = node.text;
    if (node.marks) {
      for (const mark of node.marks) {
        switch (mark.type) {
          case "bold":
            textNode = /* @__PURE__ */ jsx("strong", { className: styles.bold, children: textNode }, index);
            break;
          case "italic":
            textNode = /* @__PURE__ */ jsx("em", { className: styles.italic, children: textNode }, index);
            break;
          case "code":
            textNode = /* @__PURE__ */ jsx("code", { className: styles.code, children: textNode }, index);
            break;
          case "strike":
            textNode = /* @__PURE__ */ jsx("s", { className: styles.strike, children: textNode }, index);
            break;
          case "underline":
            textNode = /* @__PURE__ */ jsx("u", { className: styles.underline, children: textNode }, index);
            break;
          case "link": {
            const href = mark.attrs?.href;
            const target = mark.attrs?.target;
            const rel = mark.attrs?.rel || (target === "_blank" ? "noopener noreferrer" : void 0);
            textNode = /* @__PURE__ */ jsx(
              "a",
              {
                href,
                target,
                rel,
                className: styles.link,
                children: textNode
              },
              index
            );
            break;
          }
        }
      }
    }
    return textNode;
  }
  const children = node.content?.map(
    (child, i) => renderNode(child, i, styles)
  );
  switch (node.type) {
    case "doc":
      return /* @__PURE__ */ jsx("div", { children }, index);
    case "paragraph": {
      const paragraphAlign = node.attrs?.textAlign;
      return /* @__PURE__ */ jsx(
        "p",
        {
          className: styles.paragraph,
          style: paragraphAlign ? { textAlign: paragraphAlign } : void 0,
          children
        },
        index
      );
    }
    case "heading": {
      const level = Math.min(
        6,
        Math.max(1, node.attrs?.level || 1)
      );
      const headingAlign = node.attrs?.textAlign;
      const headingClass = styles[`heading${level}`] || styles.heading1;
      const HeadingTag = `h${level}`;
      return /* @__PURE__ */ jsx(
        HeadingTag,
        {
          className: headingClass,
          style: headingAlign ? { textAlign: headingAlign } : void 0,
          children
        },
        index
      );
    }
    case "blockquote":
      return /* @__PURE__ */ jsx("blockquote", { className: styles.blockquote, children }, index);
    case "codeBlock":
      return /* @__PURE__ */ jsx("pre", { className: styles.codeBlock, children: /* @__PURE__ */ jsx("code", { children }) }, index);
    case "bulletList":
      return /* @__PURE__ */ jsx("ul", { className: styles.bulletList, children }, index);
    case "orderedList":
      return /* @__PURE__ */ jsx("ol", { className: styles.orderedList, children }, index);
    case "listItem":
      return /* @__PURE__ */ jsx("li", { className: styles.listItem, children }, index);
    case "hardBreak":
      return /* @__PURE__ */ jsx("br", {}, index);
    case "horizontalRule":
      return /* @__PURE__ */ jsx("hr", { className: styles.horizontalRule }, index);
    case "image": {
      const src = node.attrs?.src;
      if (!src) return null;
      return /* @__PURE__ */ jsx(
        "img",
        {
          src,
          alt: node.attrs?.alt || "",
          title: node.attrs?.title,
          className: styles.image,
          loading: "lazy"
        },
        index
      );
    }
    case "table":
      return /* @__PURE__ */ jsx("div", { className: styles.tableWrapper, children: /* @__PURE__ */ jsx("table", { className: styles.table, children: /* @__PURE__ */ jsx("tbody", { children }) }) }, index);
    case "tableRow":
      return /* @__PURE__ */ jsx("tr", { className: styles.tableRow, children }, index);
    case "tableCell":
      return /* @__PURE__ */ jsx(
        "td",
        {
          className: styles.tableCell,
          colSpan: node.attrs?.colspan,
          rowSpan: node.attrs?.rowspan,
          children
        },
        index
      );
    case "tableHeader":
      return /* @__PURE__ */ jsx(
        "th",
        {
          className: styles.tableHeader,
          colSpan: node.attrs?.colspan,
          rowSpan: node.attrs?.rowspan,
          children
        },
        index
      );
    default:
      return children ? /* @__PURE__ */ jsx("div", { children }, index) : null;
  }
}
function RichTextRenderer({
  content,
  styles: customStyles,
  className
}) {
  if (!content || !content.content || content.content.length === 0) {
    return null;
  }
  const styles = { ...defaultStyles, ...customStyles };
  return /* @__PURE__ */ jsx("div", { className: cn(styles.doc, className), children: content.content.map((node, i) => renderNode(node, i, styles)) });
}
const PreviewContext = React.createContext(null);
function PreviewProvider({
  isPreviewMode,
  focusedField,
  onFieldClick,
  children
}) {
  const value = React.useMemo(
    () => ({
      isPreviewMode,
      focusedField,
      handleFieldClick: onFieldClick
    }),
    [isPreviewMode, focusedField, onFieldClick]
  );
  return /* @__PURE__ */ jsx(PreviewContext.Provider, { value, children });
}
function useCollectionPreview({
  initialData,
  onRefresh
}) {
  const [selectedBlockId, setSelectedBlockId] = React.useState(
    null
  );
  const [focusedField, setFocusedField] = React.useState(null);
  const isPreviewMode = React.useMemo(() => {
    if (typeof window === "undefined") return false;
    try {
      return window.self !== window.top;
    } catch {
      return true;
    }
  }, []);
  const onRefreshRef = React.useRef(onRefresh);
  React.useEffect(() => {
    onRefreshRef.current = onRefresh;
  }, [onRefresh]);
  React.useEffect(() => {
    if (!isPreviewMode) return;
    window.parent.postMessage({ type: "PREVIEW_READY" }, "*");
    const handleMessage = async (event) => {
      const message = event.data;
      if (!message || typeof message !== "object" || !message.type) {
        return;
      }
      switch (message.type) {
        case "PREVIEW_REFRESH": {
          await onRefreshRef.current();
          window.parent.postMessage(
            {
              type: "REFRESH_COMPLETE",
              timestamp: Date.now()
            },
            "*"
          );
          break;
        }
        case "SELECT_BLOCK":
          setSelectedBlockId(message.blockId);
          break;
        case "FOCUS_FIELD": {
          setFocusedField(message.fieldPath);
          setTimeout(() => {
            const element = document.querySelector(
              `[data-preview-field="${message.fieldPath}"]`
            );
            if (element) {
              element.scrollIntoView({ behavior: "smooth", block: "center" });
            }
          }, 150);
          break;
        }
      }
    };
    window.addEventListener("message", handleMessage);
    return () => window.removeEventListener("message", handleMessage);
  }, [isPreviewMode]);
  const handleFieldClick = React.useCallback(
    (fieldPath, context) => {
      if (isPreviewMode) {
        window.parent.postMessage(
          {
            type: "FIELD_CLICKED",
            fieldPath,
            blockId: context?.blockId,
            fieldType: context?.fieldType
          },
          "*"
        );
      }
    },
    [isPreviewMode]
  );
  const handleBlockClick = React.useCallback(
    (blockId) => {
      if (isPreviewMode) {
        window.parent.postMessage({ type: "BLOCK_CLICKED", blockId }, "*");
      }
    },
    [isPreviewMode]
  );
  return {
    data: initialData,
    isPreviewMode,
    selectedBlockId,
    focusedField,
    handleFieldClick,
    handleBlockClick
  };
}
function AccordionRenderer({
  values
}) {
  const [openItems, setOpenItems] = useState(/* @__PURE__ */ new Set());
  const items = values.items || [];
  const toggleItem = (index) => {
    setOpenItems((prev) => {
      const next = new Set(values.allowMultipleOpen ? prev : []);
      if (prev.has(index)) {
        next.delete(index);
      } else {
        next.add(index);
      }
      return next;
    });
  };
  return /* @__PURE__ */ jsx("section", { className: "py-16 px-6", children: /* @__PURE__ */ jsxs("div", { className: "container mx-auto max-w-3xl", children: [
    values.title && /* @__PURE__ */ jsx("h2", { className: "text-3xl font-bold tracking-tight mb-8 text-center", children: values.title }),
    /* @__PURE__ */ jsx("div", { className: "divide-y border rounded-lg", children: items.map((item, index) => {
      const isOpen = openItems.has(index);
      return /* @__PURE__ */ jsxs("div", { children: [
        /* @__PURE__ */ jsxs(
          "button",
          {
            type: "button",
            className: "w-full flex items-center justify-between px-6 py-4 text-left font-medium hover:bg-muted/50 transition-colors",
            onClick: () => toggleItem(index),
            "aria-expanded": isOpen,
            children: [
              /* @__PURE__ */ jsx("span", { children: item.title }),
              /* @__PURE__ */ jsx(
                "svg",
                {
                  className: `w-5 h-5 transition-transform ${isOpen ? "rotate-180" : ""}`,
                  fill: "none",
                  stroke: "currentColor",
                  viewBox: "0 0 24 24",
                  "aria-hidden": "true",
                  children: /* @__PURE__ */ jsx(
                    "path",
                    {
                      strokeLinecap: "round",
                      strokeLinejoin: "round",
                      strokeWidth: 2,
                      d: "M19 9l-7 7-7-7"
                    }
                  )
                }
              )
            ]
          }
        ),
        isOpen && /* @__PURE__ */ jsx("div", { className: "px-6 pb-4 text-muted-foreground", children: item.content })
      ] }, `${item.title}-${index}`);
    }) }),
    items.length === 0 && /* @__PURE__ */ jsx("p", { className: "text-center text-muted-foreground", children: "No items added yet." })
  ] }) });
}
function CTARenderer({ values }) {
  const variantStyles = {
    highlight: {
      section: "bg-blue-700 text-white",
      button: "bg-white text-blue-700 hover:bg-gray-100"
    },
    dark: {
      section: "bg-gray-900 text-white",
      button: "bg-blue-600 text-white hover:bg-blue-700"
    },
    light: {
      section: "bg-gray-100 text-gray-900",
      button: "bg-blue-700 text-white hover:bg-blue-800"
    }
  }[values.variant || "highlight"];
  return /* @__PURE__ */ jsx("section", { className: `px-6 py-20 ${variantStyles.section}`, children: /* @__PURE__ */ jsxs("div", { className: "container max-w-3xl mx-auto text-center", children: [
    /* @__PURE__ */ jsx("h2", { className: "text-3xl sm:text-4xl font-bold tracking-tight mb-6", children: values.title }),
    values.description && /* @__PURE__ */ jsx("p", { className: "text-lg opacity-90 mb-10 max-w-2xl mx-auto", children: values.description }),
    values.buttonText && /* @__PURE__ */ jsx(
      "a",
      {
        href: values.buttonLink || "#",
        className: `inline-flex items-center gap-2 px-8 py-3 rounded-md font-semibold transition-colors ${variantStyles.button}`,
        children: values.buttonText
      }
    )
  ] }) });
}
function LatestNewsRenderer({
  values,
  data
}) {
  const prefetched = data || {};
  const news = prefetched.news || [];
  return /* @__PURE__ */ jsx("section", { className: "py-16 px-6", children: /* @__PURE__ */ jsxs("div", { className: "container mx-auto", children: [
    values.title && /* @__PURE__ */ jsx("h2", { className: "text-3xl font-bold tracking-tight mb-8", children: values.title }),
    news.length === 0 && /* @__PURE__ */ jsx("p", { className: "text-muted-foreground text-center py-8", children: "No news articles available." }),
    /* @__PURE__ */ jsx(
      "div",
      {
        className: values.layout === "list" ? "space-y-4" : "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",
        children: news.map((article) => /* @__PURE__ */ jsx(
          "article",
          {
            className: "border rounded-lg overflow-hidden hover:shadow-md transition-shadow",
            children: /* @__PURE__ */ jsxs("div", { className: "p-6", children: [
              article.category && /* @__PURE__ */ jsx("span", { className: "text-xs font-medium text-primary uppercase tracking-wide", children: article.category }),
              /* @__PURE__ */ jsx("h3", { className: "font-semibold mt-1 mb-2", children: article.title }),
              article.excerpt && /* @__PURE__ */ jsx("p", { className: "text-sm text-muted-foreground line-clamp-2", children: article.excerpt }),
              article.publishedAt && /* @__PURE__ */ jsx("time", { className: "text-xs text-muted-foreground mt-3 block", children: new Date(article.publishedAt).toLocaleDateString("en-GB", {
                day: "numeric",
                month: "long",
                year: "numeric"
              }) })
            ] })
          },
          article.id
        ))
      }
    )
  ] }) });
}
function ContactsListRenderer({
  values,
  data
}) {
  const prefetched = data || {};
  const contacts = prefetched.contacts || [];
  return /* @__PURE__ */ jsx("section", { className: "py-16 px-6", children: /* @__PURE__ */ jsxs("div", { className: "container mx-auto", children: [
    values.title && /* @__PURE__ */ jsx("h2", { className: "text-3xl font-bold tracking-tight mb-8", children: values.title }),
    contacts.length === 0 && /* @__PURE__ */ jsx("p", { className: "text-muted-foreground text-center py-8", children: "No contacts available." }),
    /* @__PURE__ */ jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6", children: contacts.map((contact) => /* @__PURE__ */ jsxs(
      "div",
      {
        className: "border rounded-lg p-6 hover:shadow-md transition-shadow",
        children: [
          /* @__PURE__ */ jsx("h3", { className: "font-semibold text-lg mb-2", children: contact.department }),
          contact.description && /* @__PURE__ */ jsx("p", { className: "text-sm text-muted-foreground mb-4", children: contact.description }),
          /* @__PURE__ */ jsxs("div", { className: "space-y-1 text-sm", children: [
            contact.contactPerson && /* @__PURE__ */ jsx("p", { className: "font-medium", children: contact.contactPerson }),
            contact.email && /* @__PURE__ */ jsx("p", { children: /* @__PURE__ */ jsx(
              "a",
              {
                href: `mailto:${contact.email}`,
                className: "text-primary hover:underline",
                children: contact.email
              }
            ) }),
            contact.phone && /* @__PURE__ */ jsx("p", { children: /* @__PURE__ */ jsx(
              "a",
              {
                href: `tel:${contact.phone}`,
                className: "text-primary hover:underline",
                children: contact.phone
              }
            ) }),
            contact.officeHours && /* @__PURE__ */ jsx("p", { className: "text-muted-foreground", children: contact.officeHours })
          ] })
        ]
      },
      contact.id
    )) })
  ] }) });
}
function DocumentsListRenderer({
  values,
  data
}) {
  const prefetched = data || {};
  const documents = prefetched.documents || [];
  return /* @__PURE__ */ jsx("section", { className: "py-16 px-6", children: /* @__PURE__ */ jsxs("div", { className: "container mx-auto", children: [
    values.title && /* @__PURE__ */ jsx("h2", { className: "text-3xl font-bold tracking-tight mb-8", children: values.title }),
    documents.length === 0 && /* @__PURE__ */ jsx("p", { className: "text-muted-foreground text-center py-8", children: "No documents available." }),
    /* @__PURE__ */ jsx("div", { className: "border rounded-lg divide-y", children: documents.map((doc) => /* @__PURE__ */ jsxs(
      "div",
      {
        className: "flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",
        children: [
          /* @__PURE__ */ jsxs("div", { className: "flex-1", children: [
            /* @__PURE__ */ jsx("h3", { className: "font-medium", children: doc.title }),
            /* @__PURE__ */ jsxs("div", { className: "flex items-center gap-3 mt-1 text-sm text-muted-foreground", children: [
              doc.category && /* @__PURE__ */ jsx("span", { className: "capitalize", children: doc.category }),
              doc.version && /* @__PURE__ */ jsxs("span", { children: [
                "v",
                doc.version
              ] }),
              doc.publishedDate && /* @__PURE__ */ jsx("time", { children: new Date(doc.publishedDate).toLocaleDateString("en-GB") })
            ] })
          ] }),
          doc.file && /* @__PURE__ */ jsx(
            "a",
            {
              href: doc.file,
              className: "text-primary hover:underline text-sm font-medium",
              download: true,
              children: "Download"
            }
          )
        ]
      },
      doc.id
    )) })
  ] }) });
}
function AnnouncementBannerRenderer({
  values,
  data
}) {
  const prefetched = data || {};
  const announcements = prefetched.announcements || [];
  if (announcements.length === 0) return null;
  const categoryStyles = {
    notice: "bg-blue-50 border-blue-200 text-blue-900",
    planning: "bg-purple-50 border-purple-200 text-purple-900",
    consultation: "bg-green-50 border-green-200 text-green-900",
    tender: "bg-amber-50 border-amber-200 text-amber-900",
    job: "bg-teal-50 border-teal-200 text-teal-900",
    event: "bg-pink-50 border-pink-200 text-pink-900",
    emergency: "bg-red-50 border-red-200 text-red-900"
  };
  return /* @__PURE__ */ jsx("section", { className: "py-4 px-6", children: /* @__PURE__ */ jsx("div", { className: "container mx-auto space-y-2", children: announcements.map((announcement) => /* @__PURE__ */ jsxs(
    "div",
    {
      className: `flex items-center gap-3 px-4 py-3 rounded-md border text-sm ${categoryStyles[announcement.category] || categoryStyles.notice}`,
      children: [
        announcement.isPinned && /* @__PURE__ */ jsx("span", { className: "font-bold text-xs uppercase", children: "Pinned" }),
        /* @__PURE__ */ jsx("span", { className: "font-medium", children: announcement.title }),
        announcement.validTo && /* @__PURE__ */ jsxs("span", { className: "ml-auto text-xs opacity-75", children: [
          "Until",
          " ",
          new Date(announcement.validTo).toLocaleDateString("en-GB")
        ] })
      ]
    },
    announcement.id
  )) }) });
}
function GalleryRenderer({
  values,
  data
}) {
  const galleryData = data || {};
  const imageUrls = galleryData?.imageUrls || {};
  const columnsClass = {
    "2": "md:grid-cols-2",
    "3": "md:grid-cols-2 lg:grid-cols-3",
    "4": "md:grid-cols-2 lg:grid-cols-4"
  }[values.columns || "3"];
  const gapClass = {
    small: "gap-2",
    medium: "gap-4",
    large: "gap-8"
  }[values.gap || "medium"];
  return /* @__PURE__ */ jsx("section", { className: "py-16 px-6", children: /* @__PURE__ */ jsxs("div", { className: "container mx-auto", children: [
    values.title && /* @__PURE__ */ jsx("h2", { className: "text-3xl font-bold tracking-tight mb-8 text-center", children: values.title }),
    /* @__PURE__ */ jsx("div", { className: `grid grid-cols-1 ${columnsClass} ${gapClass}`, children: values.images?.map((image) => {
      const url = imageUrls[image.id];
      return /* @__PURE__ */ jsxs(
        "figure",
        {
          className: "group relative overflow-hidden rounded-lg bg-muted aspect-square",
          children: [
            url ? /* @__PURE__ */ jsx(
              "img",
              {
                src: url,
                alt: image.caption || "",
                className: "w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
              }
            ) : /* @__PURE__ */ jsx("div", { className: "w-full h-full flex items-center justify-center text-muted-foreground", children: "No image" }),
            values.showCaptions && image.caption && /* @__PURE__ */ jsx("figcaption", { className: "absolute bottom-0 left-0 right-0 bg-black/60 text-white p-3 text-sm", children: image.caption })
          ]
        },
        image.id
      );
    }) })
  ] }) });
}
function HeadingRenderer({ values }) {
  const Tag = values.level || "h2";
  const sizeClass = {
    h1: "text-4xl md:text-5xl",
    h2: "text-3xl md:text-4xl",
    h3: "text-2xl md:text-3xl",
    h4: "text-xl md:text-2xl"
  }[Tag];
  const alignClass = {
    left: "text-left",
    center: "text-center",
    right: "text-right"
  }[values.align || "left"];
  return /* @__PURE__ */ jsx("section", { className: "px-6 py-8", children: /* @__PURE__ */ jsx(
    Tag,
    {
      className: `font-bold tracking-tight text-foreground ${sizeClass} ${alignClass}`,
      children: values.text || "Heading"
    }
  ) });
}
function HeroRenderer({
  values,
  data,
  children
}) {
  const bgAsset = data?.backgroundImage;
  const bgImageUrl = bgAsset?.url || values.backgroundImage;
  const heightClass = {
    small: "min-h-[40vh]",
    medium: "min-h-[60vh]",
    large: "min-h-[80vh]",
    full: "min-h-screen"
  }[values.height || "medium"];
  const alignClass = {
    left: "text-left items-start",
    center: "text-center items-center",
    right: "text-right items-end"
  }[values.alignment || "center"];
  return /* @__PURE__ */ jsxs(
    "section",
    {
      className: `relative flex items-center bg-cover bg-center ${heightClass}`,
      style: {
        backgroundImage: bgImageUrl ? `url(${bgImageUrl})` : void 0,
        backgroundColor: bgImageUrl ? void 0 : "#1e40af"
      },
      children: [
        /* @__PURE__ */ jsx(
          "div",
          {
            className: "absolute inset-0 bg-gradient-to-b from-black/50 via-black/30 to-black/60",
            style: { opacity: (values.overlayOpacity ?? 60) / 100 }
          }
        ),
        /* @__PURE__ */ jsxs(
          "div",
          {
            className: `relative z-10 container mx-auto px-6 py-20 flex flex-col gap-6 ${alignClass}`,
            children: [
              /* @__PURE__ */ jsx("h1", { className: "text-4xl sm:text-5xl md:text-6xl font-bold text-white tracking-tight leading-[1.1] max-w-4xl", children: values.title }),
              values.subtitle && /* @__PURE__ */ jsx("p", { className: "text-lg sm:text-xl md:text-2xl text-white/85 max-w-2xl", children: values.subtitle }),
              values.ctaText && /* @__PURE__ */ jsxs(
                "a",
                {
                  href: values.ctaLink || "#",
                  className: "mt-4 inline-flex items-center gap-2 bg-white text-gray-900 px-8 py-3 rounded-md font-semibold hover:bg-gray-100 transition-colors",
                  children: [
                    values.ctaText,
                    /* @__PURE__ */ jsx(
                      "svg",
                      {
                        className: "w-5 h-5",
                        fill: "none",
                        stroke: "currentColor",
                        viewBox: "0 0 24 24",
                        "aria-hidden": "true",
                        children: /* @__PURE__ */ jsx(
                          "path",
                          {
                            strokeLinecap: "round",
                            strokeLinejoin: "round",
                            strokeWidth: 2,
                            d: "M9 5l7 7-7 7"
                          }
                        )
                      }
                    )
                  ]
                }
              ),
              values.showSearch && /* @__PURE__ */ jsx("div", { className: "mt-6 w-full max-w-xl", children: /* @__PURE__ */ jsxs("div", { className: "flex", children: [
                /* @__PURE__ */ jsx(
                  "input",
                  {
                    type: "search",
                    placeholder: "Search for services, news, or information...",
                    className: "flex-1 px-4 py-3 rounded-l-md text-gray-900 focus:outline-none"
                  }
                ),
                /* @__PURE__ */ jsx(
                  "button",
                  {
                    type: "button",
                    className: "px-6 py-3 bg-blue-700 text-white rounded-r-md hover:bg-blue-800 font-medium",
                    children: "Search"
                  }
                )
              ] }) }),
              children
            ]
          }
        )
      ]
    }
  );
}
function ImageRenderer({
  values,
  data
}) {
  const imageAsset = data?.image;
  const imageUrl = imageAsset?.url || values.image;
  const widthClass = {
    full: "max-w-none",
    medium: "max-w-3xl",
    small: "max-w-xl"
  }[values.width || "full"];
  const aspectClass = {
    original: "",
    square: "aspect-square",
    video: "aspect-video",
    portrait: "aspect-[3/4]"
  }[values.aspectRatio || "original"];
  return /* @__PURE__ */ jsxs("figure", { className: `mx-auto px-6 py-8 ${widthClass}`, children: [
    imageUrl ? /* @__PURE__ */ jsx(
      "img",
      {
        src: imageUrl,
        alt: values.alt || values.caption || "",
        className: `w-full rounded-lg object-cover ${aspectClass}`
      }
    ) : /* @__PURE__ */ jsx(
      "div",
      {
        className: `w-full bg-muted rounded-lg flex items-center justify-center text-muted-foreground ${aspectClass || "aspect-video"}`,
        children: "No image"
      }
    ),
    values.caption && /* @__PURE__ */ jsx("figcaption", { className: "mt-3 text-center text-sm text-muted-foreground", children: values.caption })
  ] });
}
function ImageTextRenderer({
  values,
  data
}) {
  const imageAsset = data?.image;
  const imageUrl = imageAsset?.url || values.image;
  const isImageLeft = values.imagePosition !== "right";
  return /* @__PURE__ */ jsx("section", { className: "py-16 px-6", children: /* @__PURE__ */ jsxs(
    "div",
    {
      className: `container mx-auto grid grid-cols-1 md:grid-cols-2 gap-12 items-center ${!isImageLeft ? "direction-rtl" : ""}`,
      children: [
        /* @__PURE__ */ jsx("div", { className: !isImageLeft ? "md:order-2" : "", children: imageUrl ? /* @__PURE__ */ jsx(
          "img",
          {
            src: imageUrl,
            alt: values.title || "",
            className: "w-full rounded-lg object-cover aspect-[4/3]"
          }
        ) : /* @__PURE__ */ jsx("div", { className: "w-full bg-muted rounded-lg aspect-[4/3] flex items-center justify-center text-muted-foreground", children: "No image" }) }),
        /* @__PURE__ */ jsxs("div", { className: !isImageLeft ? "md:order-1" : "", children: [
          values.title && /* @__PURE__ */ jsx("h2", { className: "text-3xl font-bold tracking-tight mb-6", children: values.title }),
          values.content && /* @__PURE__ */ jsx("div", { className: "prose prose-neutral dark:prose-invert mb-6", children: /* @__PURE__ */ jsx(RichTextRenderer, { content: values.content }) }),
          values.ctaText && /* @__PURE__ */ jsxs(
            "a",
            {
              href: values.ctaLink || "#",
              className: "inline-flex items-center gap-2 text-primary font-semibold hover:underline",
              children: [
                values.ctaText,
                /* @__PURE__ */ jsx(
                  "svg",
                  {
                    className: "w-4 h-4",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    "aria-hidden": "true",
                    children: /* @__PURE__ */ jsx(
                      "path",
                      {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M9 5l7 7-7 7"
                      }
                    )
                  }
                )
              ]
            }
          )
        ] })
      ]
    }
  ) });
}
function ColumnsRenderer({
  values,
  children
}) {
  const columnsClass = {
    "2": "md:grid-cols-2",
    "3": "md:grid-cols-2 lg:grid-cols-3",
    "4": "md:grid-cols-2 lg:grid-cols-4"
  }[values.columns || "2"];
  const gapClass = {
    small: "gap-4",
    medium: "gap-6 md:gap-8",
    large: "gap-8 md:gap-12"
  }[values.gap || "medium"];
  const paddingClass = {
    none: "py-0",
    small: "py-8",
    medium: "py-16",
    large: "py-24"
  }[values.padding || "medium"];
  return /* @__PURE__ */ jsx("section", { className: `px-6 ${paddingClass}`, children: /* @__PURE__ */ jsx(
    "div",
    {
      className: `container mx-auto grid grid-cols-1 ${columnsClass} ${gapClass}`,
      children
    }
  ) });
}
function SpacerRenderer({ values }) {
  const sizeClass = {
    small: "h-8 md:h-12",
    medium: "h-12 md:h-20",
    large: "h-20 md:h-32",
    xlarge: "h-32 md:h-48"
  }[values.size || "medium"];
  return /* @__PURE__ */ jsx("div", { className: sizeClass, "aria-hidden": "true" });
}
function DividerRenderer({ values }) {
  const widthClass = {
    full: "w-full",
    medium: "w-1/2 mx-auto",
    small: "w-24 mx-auto"
  }[values.width || "full"];
  const styleClass = values.style === "dashed" ? "border-dashed" : values.style === "dotted" ? "border-dotted" : "";
  return /* @__PURE__ */ jsx("div", { className: "py-8 px-6", children: /* @__PURE__ */ jsx("hr", { className: `border-t border-border ${widthClass} ${styleClass}` }) });
}
function TextRenderer({ values }) {
  const maxWidthClass = {
    narrow: "max-w-xl",
    medium: "max-w-3xl",
    wide: "max-w-5xl",
    full: "max-w-none"
  }[values.maxWidth || "medium"];
  const paddingClass = {
    none: "py-0",
    small: "py-8",
    medium: "py-16",
    large: "py-24"
  }[values.padding || "medium"];
  const richTextStyles = {
    doc: `max-w-none ${maxWidthClass}`,
    paragraph: "text-muted-foreground leading-relaxed mb-4 last:mb-0",
    heading1: "text-3xl font-bold tracking-tight mb-4",
    heading2: "text-2xl font-bold tracking-tight mb-3",
    heading3: "text-xl font-semibold tracking-tight mb-3",
    heading4: "text-lg font-semibold tracking-tight mb-2",
    link: "text-primary underline hover:no-underline",
    strong: "text-foreground font-semibold",
    blockquote: "border-l-primary text-muted-foreground"
  };
  return /* @__PURE__ */ jsx("section", { className: `px-6 ${paddingClass}`, children: /* @__PURE__ */ jsx("div", { className: "mx-auto prose prose-neutral dark:prose-invert", children: /* @__PURE__ */ jsx(RichTextRenderer, { content: values.content, styles: richTextStyles }) }) });
}
function getEmbedUrl(url) {
  const ytMatch = url.match(
    /(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]+)/
  );
  if (ytMatch) return `https://www.youtube.com/embed/${ytMatch[1]}`;
  const vimeoMatch = url.match(/vimeo\.com\/(\d+)/);
  if (vimeoMatch) return `https://player.vimeo.com/video/${vimeoMatch[1]}`;
  return null;
}
function VideoRenderer({ values }) {
  const embedUrl = values.url ? getEmbedUrl(values.url) : null;
  return /* @__PURE__ */ jsx("section", { className: "py-16 px-6", children: /* @__PURE__ */ jsxs("div", { className: "container mx-auto max-w-4xl", children: [
    values.title && /* @__PURE__ */ jsx("h2", { className: "text-2xl font-bold tracking-tight mb-6", children: values.title }),
    embedUrl ? /* @__PURE__ */ jsx("div", { className: "aspect-video rounded-lg overflow-hidden bg-muted", children: /* @__PURE__ */ jsx(
      "iframe",
      {
        src: embedUrl,
        title: values.title || "Video",
        className: "w-full h-full",
        allowFullScreen: true,
        allow: "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      }
    ) }) : /* @__PURE__ */ jsx("div", { className: "aspect-video rounded-lg bg-muted flex items-center justify-center text-muted-foreground", children: values.url ? "Invalid video URL" : "No video URL provided" }),
    values.caption && /* @__PURE__ */ jsx("p", { className: "mt-3 text-center text-sm text-muted-foreground", children: values.caption })
  ] }) });
}
const renderers = {
  // Sections
  hero: HeroRenderer,
  cta: CTARenderer,
  "announcement-banner": AnnouncementBannerRenderer,
  // Content
  text: TextRenderer,
  heading: HeadingRenderer,
  image: ImageRenderer,
  gallery: GalleryRenderer,
  "image-text": ImageTextRenderer,
  video: VideoRenderer,
  accordion: AccordionRenderer,
  // Dynamic
  "latest-news": LatestNewsRenderer,
  "contacts-list": ContactsListRenderer,
  "documents-list": DocumentsListRenderer,
  // Layout
  columns: ColumnsRenderer,
  spacer: SpacerRenderer,
  divider: DividerRenderer
};
export {
  BlockRenderer as B,
  PreviewProvider as P,
  renderers as r,
  useCollectionPreview as u
};
