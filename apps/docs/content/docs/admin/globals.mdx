---
title: Global Admin Configuration
description: Configure admin interface for singleton globals
---

# Global Admin Configuration

Globals are singleton documents — settings, configurations, or other data that exists as a single instance. The admin UI for globals is configured on the **server**, similar to collections but without list views.

## Creating a Global

```typescript
// src/questpie/server/globals/site-settings.ts
import { qb } from "../builder";

export const siteSettings = qb
  .global("site_settings")
  .fields((f) => ({...}))           // Database schema
  .admin(({ c }) => ({...}))        // Admin UI metadata
  .form(({ v, f }) => {...});       // Edit form
```

## `.admin()` — UI Metadata

```typescript
.admin(({ c }) => ({
  label: { en: "Site Settings", sk: "Nastavenia stránky" },
  icon: c.icon("ph:gear"),
  description: { en: "Configure global site settings" },
}))
```

## `.fields()` — Define Fields

```typescript
.fields((f) => ({
  siteName: f.text({ required: true, default: "My Site" }),
  siteDescription: f.textarea(),
  logo: f.upload({ to: "assets", mimeTypes: ["image/*"] }),
  contactEmail: f.email(),
  socialLinks: f.array({
    of: f.object({
      fields: {
        platform: f.select({
          options: [
            { label: "Facebook", value: "facebook" },
            { label: "Instagram", value: "instagram" },
            { label: "Twitter", value: "twitter" },
          ],
        }),
        url: f.text(),
      },
    }),
  }),
  maintenanceMode: f.boolean({
    default: false,
  }),
}))
```

## `.form()` — Edit Form

Configure the global edit form:

```typescript
.form(({ v, f }) => v.form({
  sections: [
    {
      label: { en: "General" },
      fields: [f.siteName, f.siteDescription, f.logo],
    },
    {
      label: { en: "Contact" },
      fields: [f.contactEmail, f.socialLinks],
    },
    {
      label: { en: "Advanced" },
      collapsible: true,
      fields: [f.maintenanceMode],
    },
  ],
}))
```

### Tabbed Layout

```typescript
.form(({ v, f, c }) => v.form({
  tabs: [
    {
      label: { en: "General" },
      icon: c.icon("ph:gear"),
      sections: [
        { fields: [f.siteName, f.logo] },
      ],
    },
    {
      label: { en: "Contact" },
      icon: c.icon("ph:envelope"),
      sections: [
        { fields: [f.contactEmail, f.socialLinks] },
      ],
    },
  ],
}))
```

## Complete Example

```typescript
// src/questpie/server/globals/site-settings.ts
import { qb } from "../builder";

export const siteSettings = qb
  .global("site_settings")
  .fields((f) => ({
    siteName: f.text({ required: true }),
    tagline: f.text(),
    logo: f.upload({ to: "assets", mimeTypes: ["image/png", "image/svg+xml"] }),
    favicon: f.upload({ to: "assets", mimeTypes: ["image/x-icon", "image/png"] }),
    contactEmail: f.email(),
    contactPhone: f.text(),
    address: f.textarea(),
    businessHours: f.object({
      fields: {
        weekdays: f.text(),
        saturday: f.text(),
        sunday: f.text(),
      },
    }),
    socialLinks: f.array({
      of: f.object({
        fields: {
          platform: f.select({
            options: [
              { label: "Facebook", value: "facebook" },
              { label: "Instagram", value: "instagram" },
              { label: "Twitter", value: "twitter" },
              { label: "LinkedIn", value: "linkedin" },
            ],
          }),
          url: f.text(),
        },
      }),
      max: 5,
    }),
  }))
  .admin(({ c }) => ({
    label: { en: "Site Settings", sk: "Nastavenia" },
    icon: c.icon("ph:gear"),
  }))
  .form(({ v, f }) => v.form({
    tabs: [
      {
        label: { en: "General" },
        sections: [
          { fields: [f.siteName, f.tagline, f.logo, f.favicon] },
        ],
      },
      {
        label: { en: "Contact" },
        sections: [
          { fields: [f.contactEmail, f.contactPhone, f.address, f.businessHours] },
        ],
      },
      {
        label: { en: "Social" },
        sections: [
          { fields: [f.socialLinks] },
        ],
      },
    ],
  }))
  .access({
    read: true,
    update: "admin",
  });
```

## Adding Globals to CMS

Register globals in your main CMS config:

```typescript
// src/questpie/server/cms.ts
import { siteSettings } from "./globals/site-settings";

const cms = q({ name: "my-cms" })
  .use(adminModule)
  .globals({ siteSettings })
  .sidebar(({ s, c }) => s.sidebar({
    sections: [
      s.section({
        id: "settings",
        title: { en: "Settings" },
        icon: c.icon("ph:gear"),
        items: [
          { type: "global", global: "siteSettings", icon: c.icon("ph:gear") },
        ],
      }),
    ],
  }))
  .build({ ... });
```

## Accessing Global Data

Use the `useGlobal` hook to read global data in React:

```typescript
import { useGlobal, useGlobalUpdate } from "@questpie/admin/client";

function SettingsPage() {
  const { data: settings, isLoading } = useGlobal("siteSettings");
  const updateSettings = useGlobalUpdate("siteSettings");

  if (isLoading) return <Loading />;

  return (
    <div>
      <h1>{settings.siteName}</h1>
      <button onClick={() => updateSettings.mutate({ siteName: "New Name" })}>
        Update
      </button>
    </div>
  );
}
```

## Related

- [Field Types](/docs/admin/fields) — All available field types
- [Form View](/docs/admin/views/form-view) — Configure edit forms
- [Sidebar](/docs/admin/sidebar) — Configure navigation
